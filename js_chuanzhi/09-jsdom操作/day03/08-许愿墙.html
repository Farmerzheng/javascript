<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        body{
            background: url("images/bg.gif") repeat;
        }
        .container{
            width: 1000px;
            height: 600px;
            background: rgba(255,255,255,.8);
            border-left: 10px solid rgba(255,255,255,.4);
            border-right: 10px solid rgba(255,255,255,.4);
            margin:0 auto;
            position: relative;
        }
        .wall{
            width: 227px;
            height: 181px;
            left:320px;
            top:230px;
            position: absolute;
            cursor: move;
            /*background: pink;*/
        }
        .wall-hd{
            height: 68px;
            background: url("images/tip1_h.gif") no-repeat;
        }
        .wall-bd{
            height: 40px;
            background: url("images/tip1_c.gif") repeat-y;
            position: relative;
            font-size: 12px;
            line-height:22px;
            padding-left:14px;
        }
        .wall i{
            position: absolute;
            top:20px;
            right:20px;
            font-style: normal;
            cursor: pointer;
        }
        .wall-ft{
            height: 60px;
            padding-top:13px;
            background: url("images/tip1_f.gif") no-repeat;
            font-size:12px;
            text-align: center;
        }
        .wall-ft img{
            vertical-align: middle;
            margin-top:0px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="wall">
            <div class="wall-hd"></div>
            <div class="wall-bd">
                第[49568]条 2016-07-7 22:51:52 <br>
                普天同庆，天下大同！
            </div>
            <div class="wall-ft">
                <img src="images/bpic_1.gif" alt="">
                不愿意透露姓名的王先生
            </div>
            <i>×</i>
        </div>
    </div>
    <script>
        // 获取随机
        //console.log( Math.random() );
        var box = document.getElementsByClassName('container')[0];
        //克隆wall这个盒子
        var wall = document.getElementsByClassName('wall')[0];
        for( var i = 0; i < 10; i++ ){
            var newWall = wall.cloneNode(true);
            //每次克隆后，要改变里边的left和top值
            // left  随机出现  0~700之间
            //  top 随机出现   0~420
            // Math.random()   0 ~  1   * 700  0 ~ 700
            //四舍五入  Math.round()  Math.ceil()  Math.floor()
            newWall.style.left = Math.round( Math.random()*700 )+'px';
            newWall.style.top = Math.round( Math.random()*420 )+'px';
            //把克隆的盒子插入到container中
            box.appendChild(newWall);
        }

        // 给所有的wall添加点击事件
        var allWall = document.getElementsByClassName('wall');
        //console.log( allWall.length );
        var wallIndex = 0;
        for( var i = 0; i < allWall.length; i++ ){
            allWall[i].onclick = function(){
                //设置当前的z-index值要加1
                wallIndex++;
                // 把加1的结果个当前的盒子
                this.style.zIndex = wallIndex;
            }
            // 遍历大盒子的时候，能不能找到每一个大盒子中的i
            allWall[i].getElementsByTagName('i')[0].onclick = function(){
                //alert(1);
                //隐藏父盒子
                this.parentNode.style.display = 'none';
            }
        }
        //点击关闭，让当前盒子的父盒子
        //找到所有的i，给他们添加点击
    </script>
</body>
</html>